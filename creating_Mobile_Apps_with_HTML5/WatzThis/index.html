<!DOCTYPE html>

<html manifest="http://www.watzthis.com/watzthis.appcache"> <!--example html link to manifest file for offline storage cache-->
<head>
    
    <!--You can find this sample code here: https://github.com/hchiam/embeddedWebApps/blob/master/creating_Mobile_Apps_with_HTML5/WatzThis/index.html-->
    
    <title>WatzThis?</title>
    <meta charset="utf-8">
    <!--These three following meta lines turn this webpage into a mobile webpage:-->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--These two following lines make this app look like a native app when a user adds it to their home screen-->
    <meta name="apple-mobile-web-app-capable" content="yes">   
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <script>
        var light = new Array();
        var t;
        var color=0;
        var flipping=0;
        var speed;
        light[0] = 'black';
        light[1] = 'white';
        light[2] = "red";
        light[3] = "blue";
        light[4] = "green";
        light[5] = "orange";
        function flip(whichway) {
            document.body.style.backgroundColor = light[whichway];
            showColour(whichway);
            stopFlip();
        }
        function autoFlip() {
            showColour(color); // show CURRENT flip colour:
            document.body.style.backgroundColor = light[color];
            // modify colour for the NEXT flip:
            if (color > 0) {
                color -= 2; // to go 2 colours down the list instead of just 1 at a time
            } else {  
                color=light.length-2; // to start at green
            }
            t = setTimeout("autoFlip()",speed);
        }
        function doAutoFlip(changespeed) {
            if (!flipping){
                flipping=1;
                speed=changespeed;
                autoFlip();
            }
        }
        function stopFlip() {
            clearTimeout(t);
            flipping=0;
        }
        function showColour(index) {
            // show the name of the colour:
            document.getElementById("mytext").innerHTML = "Showing: " + light[index];
            // change text colour to white if on black background:
            if (light[index] == "black") {
                document.getElementById("mytext").style.color = "white";
                document.getElementById("directions").style.color = "white";
                document.getElementsByTagName('h1')[0].style.color = "white";
            } else {
                document.getElementById("mytext").style.color = "black";
                document.getElementById("directions").style.color = "black";
                document.getElementsByTagName('h1')[0].style.color = "black";
            }
        }
        function getLoc() {
            var gps = navigator.geolocation.getCurrentPosition(
            function(position) {
                var latitude = position.coords.latitude;
                var longitude = position.coords.longitude;
                alert("Your Latitude is: " + latitude + " and your longitude is: " + longitude + "! Have fun!");
            }
            );
        }
    </script>
    <style>
        body {
            font-family:arial, helvetica;
            text-align: center;
        }
        #container {}
        #directions, #flashlight, #danceparty {
            margin:4px;
        }
        ol {
            display: inline-block;
            margin: 0 auto;
            text-align:left;
        }
        .bigButton {
            font-size:18px;
        }
    </style>
    
</head>

<body>
    
    <h1>WatzThis?</h1>
    <div id="directions">
    <ol>
        <li>Use the top row of buttons to turn the flashlight on or off, or to make the light red.</li>
        <li>Use the 2nd row of buttons to turn on and off your automatic flashing color light dance party.</li>
    </ol>
    </div>
    
    <div id="container">
        <div id="flashlight">
            <input type="button" id="OFF" class="bigButton" value="OFF" onclick="flip(0);">
            <input type="button" id="ON" class="bigButton" value="ON" onclick="flip(1);">
            <input type="button" id="RED" class="bigButton" value="RED" onclick="flip(2);">
        </div>
        <div id="danceparty">
            <input type="button" id="AUTO" class="bigButton" value="AUTO" onclick="doAutoFlip(1000);">
            <input type="button" id="STOP" class="bigButton" value="STOP" onclick="stopFlip();">
        </div>
        <div id="geolocation">
            <input type="button" id="latlong" class="bigButton" value="GET LOC" onclick="getLoc();">
        </div>
        <div id="mytext">
        </div> 
    </div>
    
</body>
</html>
